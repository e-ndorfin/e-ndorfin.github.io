---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import FormattedDate from '../components/FormattedDate.astro';
import { Image } from 'astro:assets';
import profileImage from '../assets/profile.jpg';

const posts = (await getCollection('blog'))
    .filter((post) => !post.data.draft)
    .sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
).slice(0, 3);
---

<Layout>
	<div class="mt-8 space-y-10">
		<section class="flex flex-col-reverse sm:flex-row gap-8 items-start">
			<div class="flex-1">
				<h1 class="text-3xl font-bold text-white mb-4">Zachary Tang</h1>
				<p class="text-gray-400 leading-relaxed">
				Roboticist interested in achieving general physical intelligence.</p><br><p class="text-gray-400 leading-relaxed"> 
				Currently performing research at DoRL @ UofT under <a href="https://cglee.mie.utoronto.ca/" target="_blank" class="text-gray-400 hover:text-theme-accent">Prof. Chi-Guhn Lee</a> into car battery assembly with VLAs (Vision-Language-Action models). 
				</p>
                <div class="flex space-x-4 mt-6">
                    <a href="https://github.com/e-ndorfin" target="_blank" class="text-gray-400 hover:text-theme-accent transition-colors">GitHub</a>
                    <a href="https://x.com/e_ndorfin" target="_blank" class="text-gray-400 hover:text-theme-accent transition-colors">Twitter</a>
                    <a href="mailto:zach.tang@mail.utoronto.ca" class="text-gray-400 hover:text-theme-accent transition-colors">Email</a>
                    <a href="/resume.pdf" target="_blank" class="text-gray-400 hover:text-theme-accent transition-colors">CV</a>
                    <a href="https://calendly.com/zacharytang24/meeting-with-zach" target="_blank" class="text-gray-400 hover:text-theme-accent transition-colors">Meet with me!</a>
                </div>
			</div>
			<div class="shrink-0">
				<Image 
					src={profileImage} 
					alt="Zachary Tang" 
					class="w-48 h-48 rounded-lg object-cover border border-gray-700/50 shadow-lg"
					width={384}
					height={384}
				/>
			</div>
		</section>

		<section class="prose prose-invert prose-p:text-gray-400 max-w-none">
			<ul class="text-gray-400 leading-relaxed">
				<li>Currently working on: communication in multi-agent RL and generalizable robotics!</li>
				<li>Undergraduate at the University of Toronto specializing in CS and Data Science</li>
				<li>Leading 15+ undergrad researchers at <a href="https://www.utmist.ca/" target="_blank" class="text-gray-400 hover:text-theme-accent decoration-theme-accent/50">UTMIST</a> working on real-time diffusion upscaling and emergent communication in Overcooked
</li>
			</ul>
			<p class="text-gray-400 leading-relaxed mt-4">
				In my free time, I love playing the drums and listening to <a href="https://www.youtube.com/watch?v=1n_i0JupwRA" target="_blank" class="text-gray-400 hover:text-theme-accent transition-colors decoration-theme-accent/50">Chinese RnB</a>. I also enjoy playing <a href="https://osu.ppy.sh/users/11006007" target="_blank" class="text-gray-400 hover:text-theme-accent transition-colors decoration-theme-accent/50">rhythm games</a> and wasting time messing with my dotfiles :)
				<br> <br> Reach out if you'd like to chat! Would love to talk about anything.
			</p>
		</section>

		<section>
			<h2 class="text-xl font-semibold text-white mb-4">Recent Rabbitholes</h2>
			<ul class="space-y-4">
				{posts.map((post) => (
					<li class="flex flex-col sm:flex-row sm:items-baseline sm:justify-between group">
						<a href={`/rabbitholes/${post.id}/`} class="text-theme-text hover:text-theme-accent transition-colors font-medium">
							{post.data.title}
						</a>
                        <span class="text-sm text-gray-500 font-mono mt-1 sm:mt-0 whitespace-nowrap sm:ml-4">
                            <FormattedDate date={post.data.pubDate} />
                        </span>
					</li>
				))}
			</ul>
            <div class="mt-4">
                <a href="/rabbitholes" class="text-sm text-gray-500 hover:text-theme-accent transition-colors">View all rabbitholes &rarr;</a>
            </div>
		</section>
	</div>
</Layout>
